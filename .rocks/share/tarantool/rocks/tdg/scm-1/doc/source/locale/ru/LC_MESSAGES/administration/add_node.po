
#: ../../administration/add_node.rst:3
msgid "Adding cluster nodes"
msgstr "Добавление узлов в кластер"

#: ../../administration/add_node.rst:5
msgid ""
"Adding a new node (instance) to a TDG cluster is actually the same "
"deployment operation as you did earlier."
msgstr ""
"Добавление нового узла (экземпляра) в кластер TDG — это фактически та же "
"операция развертывания."

#: ../../administration/add_node.rst:7
msgid ""
"In this example, you will take the already :doc:`deployed TDG cluster "
"</administration/deployment/ansible-deployment>`, deploy a new TDG instance "
"and :ref:`configure <ansible-deploy-topology>` it via web interface by "
"creating a new replica set with the storage :ref:`cluster role <tdg2wn-"
"components>`."
msgstr ""
"В этом примере мы возьмем уже :doc:`развернутый кластер TDG "
"</administration/deployment/ansible-deployment>`, развернем новый экземпляр "
"TDG и :ref:`настроим его <ansible-deploy-topology>` через веб-интерфейс, "
"создав новый набор реплик с :ref:`кластерной ролью \"storage\"<tdg2wn-"
"components>`."

#: ../../administration/add_node.rst:11
msgid ""
"For deploying a new instance, you will use the same ``tar.gz`` package and "
"the Ansible tool with the :ref:`predefined inventory and playbook "
"configuration <ansible-deploy-conf>` as for the initial cluster deployment."
msgstr ""
"Чтобы развернуть новый экземпляр, требуются те же ресурсы, что и для "
"первоначального развертывания кластера: пакет ``tar.gz`` и инструмент "
"Ansible с :ref:`предопределенными файлом инвентаря и конфигурацией плейбука "
"<ansible-deploy-conf>`."

#: ../../administration/add_node.rst:14
msgid ""
"Navigate to the :ref:`deploy directory <ansible-deploy-conf>` extracted "
"earlier from the ``tar.gz`` package and edit the Ansible inventory file "
"``hosts.yml``. You need to add the description of a new instance and its "
"parameters. In the code block below, parameters that should be added are "
"marked with the comments ``# <-- Add ...``."
msgstr ""
"Перейдите в :ref:`директорию развертывания <ansible-deploy-conf>`, "
"извлеченную ранее из пакета ``tar.gz``, и отредактируйте файл инвентаря "
"Ansible ``hosts.yml``. Добавьте описание и параметры нового экземпляра. В "
"приведенном ниже примере кода параметры, которые нужно заполнить, отмечены "
"комментариями ``# <-- Добавьте...``."

#: ../../administration/add_node.rst:19
msgid ""
"children:\n"
"  tdg_group:\n"
"\n"
"    ### Instances ###\n"
"\n"
"    hosts:\n"
"\n"
"      ...\n"
"\n"
"      storage_3:  # <-- Add a new instance and its configuration parameters\n"
"        config:\n"
"          advertise_uri: \"172.19.0.2:3005\"\n"
"          http_port: 8085\n"
"          memtx_memory: 1073741824  # 1024 Mb\n"
"\n"
"    children:\n"
"\n"
"      ### Machines ###\n"
"\n"
"      vm1:\n"
"        hosts:\n"
"          stateboard_instance:\n"
"          core:\n"
"          runner_1:\n"
"          storage_1:\n"
"          storage_2:\n"
"          storage_3:  # <-- Add the instance to the hosts list on vm1\n"
"        vars:\n"
"          ansible_host: \"172.19.0.2\""
msgstr ""
"children:\n"
"  tdg_group:\n"
"\n"
"    ### Instances ###\n"
"\n"
"    hosts:\n"
"\n"
"      ...\n"
"\n"
"      storage_3:  # <-- Добавьте новый экземпляр и параметры конфигурации для него\n"
"        config:\n"
"          advertise_uri: \"172.19.0.2:3005\"\n"
"          http_port: 8085\n"
"          memtx_memory: 1073741824  # 1024 Mb\n"
"\n"
"    children:\n"
"\n"
"      ### Machines ###\n"
"\n"
"      vm1:\n"
"        hosts:\n"
"          stateboard_instance:\n"
"          core:\n"
"          runner_1:\n"
"          storage_1:\n"
"          storage_2:\n"
"          storage_3:  # <-- Добавьте этот экземпляр к hosts на vm1\n"
"        vars:\n"
"          ansible_host: \"172.19.0.2\""

#: ../../administration/add_node.rst:53
msgid "While editing ``hosts.yml``, double-check the following parameters:"
msgstr ""
"Внимательно проверьте следующие параметры при редактировании ``hosts.yml``:"

#: ../../administration/add_node.rst:55
msgid ""
"``cartridge_package_path``—use the same package of the same application "
"version you used for initial cluster deployment."
msgstr ""
"``cartridge_package_path`` — используйте ту же версию пакета, что и при "
"первоначальном развертывании кластера."

#: ../../administration/add_node.rst:56
msgid ""
"``cartridge_cluster_cookie``—should be the same as it was during the initial"
" deployment. Otherwise, the new instance won't be included in the cluster."
msgstr ""
"``cartridge_cluster_cookie`` — cookie должен быть тем же, что и во время "
"первоначального развертывания, иначе новый экземпляр не будет включен в "
"кластер."

#: ../../administration/add_node.rst:59
msgid ""
"Deploy a new instance by using the ``deploy_without_topology.yml`` playbook:"
msgstr ""
"Выполните развертывание нового экземпляра, используя плейбук "
"``deploy_without_topology.yml``:"

#: ../../administration/add_node.rst:None
msgid ""
"$ ansible-playbook -i hosts.yml --limit storage_3 "
"playbooks/deploy_without_topology.yml"
msgstr ""
"$ ansible-playbook -i hosts.yml --limit storage_3 "
"playbooks/deploy_without_topology.yml"

#: ../../administration/add_node.rst:65
msgid ""
"The ``--limit`` option is used to apply the playbook steps only to the "
"specified instance and avoid any changes for the existing ones."
msgstr ""
"Параметр ``--limit`` указывает, что шаги плейбука следует применить только к"
" конкретному экземпляру, не затрагивая другие экземпляры."

#: ../../administration/add_node.rst:67
msgid ""
"Open or refresh the page with TDG user interface. In this example, it is "
"located at `http://172.19.0.2:8081 <http://172.19.0.2:8081>`_. The new "
"instance is displayed on the **Cluster** tab in the **Unconfigured servers**"
" section."
msgstr ""
"Откройте или обновите страницу с интерфейсом TDG. В нашем примере она "
"находится по адресу `http://172.19.0.2:8081 <http://172.19.0.2:8081>`_. "
"Новый экземпляр появится на вкладке **Cluster** в разделе **Unconfigured "
"servers**."

#: ../../administration/add_node.rst:73
msgid ""
"The last step is to create a new replica set with the \"storage\" role. For "
"the \"storage_3\" instance, click **Configure**. In the **Configure server**"
" dialog, specify the following parameters and click **Create replica set**:"
msgstr ""
"Последний шаг — создание нового набора реплик с ролью \"storage\". Нажмите "
"**Configure** напротив экземпляра \"storage_3\". В диалоговом окне "
"**Configure server** укажите следующие параметры и нажмите **Create replica "
"set**:"

#: ../../administration/add_node.rst:77
msgid "``Replica set name``: storage_3"
msgstr "``Replica set name``: storage_3"

#: ../../administration/add_node.rst:78
msgid "``Roles``: storage"
msgstr "``Roles``: storage"

#: ../../administration/add_node.rst:79
msgid "``Replica set weight``: 1"
msgstr "``Replica set weight``: 1"

#: ../../administration/add_node.rst:84
msgid ""
"The ``Replica set weight`` parameter should be set to the same value as for "
"other replica sets with the \"storage\" role. It is necessary to run "
"automatic data rebalancing between the storages upon creating a new storage."
msgstr ""
"Значение параметра ``Replica set weight`` должно быть таким же, как и в "
"остальных наборах реплик с ролью \"storage\". Тогда после добавления нового "
"хранилища запустится автоматическая балансировка данных между всеми "
"хранилищами."

#: ../../administration/add_node.rst:87
msgid ""
"You can verify if rebalancing was done correctly by checking out the "
"``Buckets`` parameter: the value should be the same for storage instances on"
" the same server (``172.19.0.2`` in this example). Rebalancing process takes"
" some time, so you may need to wait a bit and refresh the page to see the "
"result in web interface."
msgstr ""
"Вы можете проверить, корректно ли была проведена балансировка, обратившись к"
" параметру ``Buckets``. Его значение должно совпадать для всех экземпляров с"
" ролью \"storage\" на одном сервере (``172.19.0.2`` в этом примере). "
"Балансировка займет некоторое время, поэтому результат в веб-интерфейсе "
"появится не сразу: немного подождите и обновите страницу."
